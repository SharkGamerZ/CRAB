{
    "_common": {
        "description": "Common settings shared across all presets",
        "env": {
            "CRAB_ROOT": "__CWD__",
            "CRAB_WRAPPERS_PATH": "__CWD__/wrappers"
        },
        "sbatch": [],
        "header": []
    },
    "alps": {
        "description": "ALPS Cluster Environment",
        "env": {
            "MPICH_MALLOC_FALLBACK": "1",
            "NCCL_IGNORE_CPU_AFFINITY": "1",
            "CRAB_GPU_BENCH": "true",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_NG_BENCH": "false",
            "CRAB_CUDA_HOME": "/user-environment/env/default",
            "CRAB_NCCL_HOME": "/user-environment/env/default",
            "CRAB_MPI_HOME": "/user-environment/env/default",
            "CRAB_MPI_CUDA_HOME": "/user-environment/env/default",
            "CRAB_MPIRUN": "srun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_LONG_FLAG": "",
            "CRAB_PINNING_FLAGS": "--cpu-bind=map_cpu=1,73,145,217",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_WL_MANAGER": "slurm",
            "CRAB_NG_CONFIGURE_FLAGS": "HRT_ARCH=6 --with-mpi=/user-environment/env/default",
            "UCX_LOG_LEVEL": "error",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "",
            "CRAB_MINIFE_PATH": ""
        },
        "sbatch": [],
        "header": []
    },
    "cluster_di": {
        "description": "Cluster Dipartimento Informatica",
        "env": {
            "CRAB_GPU_BENCH": "false",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_MPIRUN": "srun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "--map-by node",
            "CRAB_MPIRUN_HOSTNAMES_FLAG": "-H",
            "CRAB_PINNING_FLAGS": "",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_NG_CONFIGURE_FLAGS": "HRT_ARCH=6",
            "CRAB_WL_MANAGER": "slurm",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "/home/marcio/Documenti/Uni/Tirocinio/graph500/src/graph500_reference_bfs",
            "CRAB_MINIFE_PATH": ""
        },
        "sbatch": [],
        "header": []
    },
    "haicgu": {
        "description": "HAICGU Cluster",
        "env": {
            "CRAB_GPU_BENCH": "false",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_MPI_HOME": "/software/kp920-RL8/Stages/2024/software/OpenMPI/5.0.3-GCC-14.1.0",
            "CRAB_MPIRUN": "srun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_LONG_FLAG": "",
            "CRAB_PINNING_FLAGS": "--cpu-bind=socket",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_WL_MANAGER": "slurm",
            "CRAB_NG_CONFIGURE_FLAGS": "MPICC=mpicc MPICXX=mpicxx HRT_ARCH=6 LDFLAGS=-lpthread --with-mpi=/software/kp920-RL8/Stages/2024/software/OpenMPI/5.0.3-GCC-14.1.0/",
            "UCX_LOG_LEVEL": "error",
            "CRAB_IB_DEVICES": "mlx5_0#mlx5_1#mlx5_2#mlx5_3",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "",
            "CRAB_MINIFE_PATH": ""
        },
        "sbatch": [],
        "header": []
    },
    "leonardo": {
        "description": "Leonardo Cluster @ CINECA",
        "env": {
            "UCX_IB_SL": "1",
            "LD_LIBRARY_PATH": "${LD_LIBRARY_PATH}:/leonardo/smcx_home/bench/software/lib/ucx/nvhpc-22.2_pgi_cuda/lib/",
            "CRAB_GPU_BENCH": "true",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_NG_BENCH": "false",
            "CRAB_CUDA_HOME": "/opt/cuda/11.8.0/targets/x86_64-linux",
            "CRAB_NCCL_HOME": "/home/root/opt/nvhpc/Linux_x86_64/23.1/comm_libs/11.8/nccl",
            "CRAB_MPI_HOME": "/leonardo/prod/spack/03/install/0.19/linux-rhel8-icelake/nvhpc-23.1/openmpi-4.1.4-6ek2oqarjw755glr5papxirjmamqwvgd",
            "CRAB_MPI_CUDA_HOME": "/leonardo/prod/spack/03/install/0.19/linux-rhel8-icelake/nvhpc-23.1/openmpi-4.1.4-6ek2oqarjw755glr5papxirjmamqwvgd",
            "CRAB_MPIRUN": "srun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_LONG_FLAG": "",
            "CRAB_PINNING_FLAGS": "--cpu-bind=socket",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_WL_MANAGER": "slurm",
            "CRAB_NG_CONFIGURE_FLAGS": "HRT_ARCH=6 --with-mpi=/leonardo/prod/spack/03/install/0.19/linux-rhel8-icelake/nvhpc-23.1/openmpi-4.1.4-6ek2oqarjw755glr5papxirjmamqwvgd/",
            "UCX_LOG_LEVEL": "error",
            "CRAB_IB_DEVICES": "mlx5_0#mlx5_1#mlx5_2#mlx5_3",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "",
            "CRAB_MINIFE_PATH": "",
            "NCCL_IB_SL": "${NCCL_IB_SL}"
        },
        "sbatch": [
            "--account=IscrB_SWING",
            "--partition=boost_usr_prod",
            "--gres=tmpfs:0"
        ],
        "header": [
            "module purge",
            "module load openmpi"
        ]
    },
    "local": {
        "description": "Local Development Environment (OpenMPI)",
        "env": {
            "CRAB_GPU_BENCH": "false",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_MPIRUN": "mpirun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "--map-by node",
            "CRAB_MPIRUN_HOSTNAMES_FLAG": "-H",
            "CRAB_PINNING_FLAGS": "",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_NG_CONFIGURE_FLAGS": "HRT_ARCH=6",
            "CRAB_WL_MANAGER": "mpi",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "",
            "CRAB_MINIFE_PATH": "",
            "CRAB_CUDA_HOME": "",
            "CRAB_NCCL_HOME": "",
            "CRAB_MPI_HOME": "",
            "CRAB_MPI_CUDA_HOME": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216"
        },
        "sbatch": [],
        "header": []
    },
    "lumi": {
        "description": "LUMI Supercomputer",
        "env": {
            "CRAB_GPU_BENCH": "true",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_NG_BENCH": "false",
            "CRAB_CUDA_HOME": "",
            "CRAB_NCCL_HOME": "",
            "CRAB_MPI_HOME": "",
            "CRAB_MPI_CUDA_HOME": "",
            "CRAB_MPIRUN": "srun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_LONG_FLAG": "",
            "CRAB_PINNING_FLAGS": "${CRAB_PINNING_FLAGS}",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_WL_MANAGER": "slurm",
            "CRAB_NG_CONFIGURE_FLAGS": "HRT_ARCH=6",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "",
            "CRAB_MINIFE_PATH": ""
        },
        "sbatch": [],
        "header": []
    },
    "nanjin": {
        "description": "Nanjin Cluster",
        "env": {
            "CRAB_MPI_HOME": "/software/kp920-RL8/Stages/2024/software/OpenMPI/5.0.3-GCC-14.1.0",
            "CRAB_GPU_BENCH": "false",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_MPIRUN": "srun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_FLAG": "",
            "CRAB_MPIRUN_HOSTFILE_LONG_FLAG": "",
            "CRAB_PINNING_FLAGS": "--cpu-bind=socket",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_WL_MANAGER": "slurm",
            "CRAB_NG_CONFIGURE_FLAGS": "MPICC=mpicc MPICXX=mpicxx HRT_ARCH=6 LDFLAGS=-lpthread --with-mpi=/software/kp920-RL8/Stages/2024/software/OpenMPI/5.0.3-GCC-14.1.0/",
            "UCX_LOG_LEVEL": "error",
            "CRAB_IB_DEVICES": "mlx5_0#mlx5_1#mlx5_2#mlx5_3",
            "CRAB_AMG_PATH": "",
            "CRAB_G500_PATH": "",
            "CRAB_MINIFE_PATH": ""
        },
        "sbatch": [],
        "header": []
    },
    "slimfly": {
        "description": "Slimfly Topology Cluster (MPI)",
        "env": {
            "CRAB_GPU_BENCH": "false",
            "CRAB_XCCL_BENCH": "false",
            "CRAB_CUDA_HOME": "",
            "CRAB_NCCL_HOME": "",
            "CRAB_MPI_HOME": "",
            "CRAB_MPI_CUDA_HOME": "",
            "CRAB_MPIRUN": "/scratch/2/t2hx/dep/openmpi/bin/mpirun",
            "CRAB_MPIRUN_MAP_BY_NODE_FLAG": "--map-by node",
            "CRAB_MPIRUN_HOSTNAMES_FLAG": "-H",
            "CRAB_PINNING_FLAGS": "--cpu-bind=map_cpu:2,2",
            "CRAB_MPIRUN_ADDITIONAL_FLAGS": "-mca plm_rsh_no_tree_spawn 1 --map-by node -mca btl openib,self,sm -mca btl_openib_if_include mlx4_0 -mca orte_base_help_aggregate 0",
            "CRAB_INTERFACE_MASK": "148.187.36.181/19",
            "CRAB_RUN_IB": "false",
            "CRAB_RUN_IBV": "false",
            "CRAB_NET_NOISE_CONC": "1",
            "CRAB_BW_SATURATING_SIZE": "16777216",
            "CRAB_NG_CONFIGURE_FLAGS": "HRT_ARCH=6 --with-mpi=/leonardo/prod/spack/03/install/0.19/linux-rhel8-icelake/nvhpc-23.1/openmpi-4.1.4-6ek2oqarjw755glr5papxirjmamqwvgd/",
            "CRAB_WL_MANAGER": "mpi",
            "CRAB_AMG_PATH": "/scratch/2/t2hx/AMG/test/amg",
            "CRAB_G500_PATH": "/scratch/2/t2hx/graph500/mpi/runnable",
            "CRAB_MINIFE_PATH": "/scratch/2/t2hx/miniFE/ref/src/miniFE.x"
        },
        "sbatch": [],
        "header": []
    },
    "example_preset": {
        "description": "Example Template",
        "env": {
            "CRAB_ROOT": "__CWD__",
            "ENV_EXAMPLE": "ENV_VALUE"
        },
        "sbatch": [],
        "header": []
    }
}
